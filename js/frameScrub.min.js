(function(e){e.fn.frameScrub=function(t){function n(t){for(var n=0;n<t.length;n++){e("<img />").attr("src",t[n])}}var r=e.extend({defaultImage:null,verticalAlignment:null,showTitles:null,frameWidth:null},t);return this.each(function(){function f(){e(t).children("img").map(function(){var n=e(this).width(),i=e(this).height(),s=e(this).attr("src").split("/"),o,u;if(r.frameWidth){o=r.frameWidth+"px";u=i*r.frameWidth/n+"px"}else{o="100%";u="auto"}e(this).css({margin:"auto",display:"block",width:o,height:u,"min-height":e(t).height(),"min-width":n*e(t).height()/i})})}function l(){if(r.verticalAlignment){e(t).children("img").map(function(){switch(r.verticalAlignment){case"middle":e(this).css("margin-top",-(e(this).height()/2)+e(t).height()/2);break;case"top":e(this).css("margin-top",0);break;case"bottom":e(this).css("margin-top",-e(this).height()+e(t).height());break}})}}function c(t,n){var r=e("#"+n).offset();var i=Math.floor((t.clientX-r.left)/o);h(i,n)}function h(n,i){n=n+1;before=n-1;after=n+1;if(n<u.length){e("#"+i+" img:nth-of-type("+after+")").hide()}if(before!=0){e("#"+i+" img:nth-of-type("+before+")").hide()}e("#"+i+" img:nth-of-type("+n+")").show();if(r.showTitles){e("#"+r.showTitles).html(e("#"+e(t).attr("id")+" img:nth-of-type("+n+")").attr("title"))}}var t=e(this),i=e(this).width(),s=e(this).children("img").length,o=i/s,u=[],a=[];e(t.children("img")).each(function(){u.push(e(this).attr("src"))});n(u);f();e(this).find("img").hide();if(r.defaultImage){e(this).find("img#"+r.defaultImage).show()}else{e(this).find("img").first().show()}if(r.showTitles){e("#"+r.showTitles).html(r.defaultImage?e(this).find("img#"+r.defaultImage).attr("title"):e(this).find("img").first().attr("title"))}l();e(window).resize(function(){i=e(t).width();o=i/s;l()});if(r.showTitle){e(t).children("img").map(function(){var t=e(this).attr("title");a.push(t)})}e(this).on("mouseenter",function(t){if(r.defaultImage){e(this).find("img#"+r.defaultImage).hide()}else{e(this).find("img").first().hide()}c(t,e(this).attr("id"))});e(this).on("mousemove",function(t){c(t,e(this).attr("id"))});e(this).on("mouseleave",function(t){e(this).find("img").hide();if(r.defaultImage){e(this).find("img#"+r.defaultImage).show()}else{e(this).find("img").first().show()}if(r.showTitles){e("#"+r.showTitles).html(r.defaultImage?e(this).find("img#"+r.defaultImage).attr("title"):e(this).find("img").first().attr("title"))}})})}})(jQuery)